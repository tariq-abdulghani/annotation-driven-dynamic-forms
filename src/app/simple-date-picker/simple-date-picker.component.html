
<div class="date-picker-container">
    <div class="date-picker-input-container ">
        <input class="date-picker-input px-1" type="text" placeholder="yyyy/mm/dd">
        <span class="date-picker-icon"><i class="far fa-calendar"></i></span>
    </div>
    
    <div class="date-picker-calender shadow-sm">
        <div class="calender-navigator d-flex align-items-center justify-content-between">
          <span class="year-view-toggler" [ngClass]="{'active': !yearView, 'not-active': yearView}"(click)="applyMonthView()">
            {{selectedDate}}
          </span> 
          <span class="year-view-toggler" [ngClass]="{'active': !yearView, 'not-active': yearView}"(click)="applyMonthView()">
            {{selectedMonth}}
          </span> 
          <span class="year-view-toggler" [ngClass]="{'active': yearView,  'not-active': !yearView}" (click)="toggleYearView()">
            {{selectedYear}}
          </span>
          <span >  </span>
          <button class="navigator-btn" (click)="reset()">&odot;</button>
          <button class="navigator-btn" (click)="navigatePrevious()"> &ltrif;</button>
          <!--&#10094; &#10095;-->
          <button class="navigator-btn" (click)="navigateNext()"> &rtrif;</button>
        </div>
        
        <hr class="mt-1">
        <table class="calender-navigator-body table table-sm table-borderless" *ngIf="!yearView">
            <thead>
              <tr>
                <th  class="calender-day-header" *ngFor="let dayHeader of daysHeader">{{dayHeader}}</th>
              </tr>
            </thead>
            <tbody>
              <tr class="col-md-12" *ngFor="let weekIndex of [0, 7, 14, 21, 28, 35]">
                <td class="col-md "  
                [ngClass]="{'empty-row': daysArray[weekIndex+dayIndex]==0, 'calender-day': daysArray[weekIndex+dayIndex]!=0, 'active':daysArray[weekIndex+dayIndex]==selectedDate }" 
                *ngFor="let dayIndex of [0,1,2,3,4,5, 6]" (click)="selectedDate = daysArray[weekIndex+dayIndex]">
                  {{daysArray[ weekIndex + dayIndex ]}}
                </td>
              </tr>
            </tbody>
        </table>
        
<!-- month year view -->
        <div class="row" *ngIf="yearView">
          <div class="col-6" style="border-right: 1px solid lightgrey;">
            <table class="calender-navigator-body table table-sm table-borderless" >
              <thead>
                <!-- <tr>
                  <th  class="calender-day-header" *ngFor="let dayHeader of daysHeader">{{dayHeader}}</th>
                </tr> -->
              </thead>
              <tbody>
                <tr *ngFor="let m of [0,2,4,6, 8, 10]">
                  <td class="calender-day" *ngFor="let j of [0,1]" [ngClass]="{'active': monthsArray[m+j]==selectedMonth}" 
                  (click)="selectedMonth=monthsArray[m+j]; applyMonthView()">
                    {{monthsArray[m+j]}}
                  </td>
                </tr>
              </tbody>
          </table>
          </div>
          <div class="col-6">
            <table class="calender-navigator-body table table-sm table-borderless">
              <thead>
              </thead>
              <tbody>
                <tr *ngFor="let i of [0,2,4, 6, 8]">
                  <td class="calender-day"  [ngClass]="{'active': yearsList[i+j]== selectedYear}"
                  *ngFor="let j of [0,1]" (click)="selectedYear = yearsList[i+j]">{{yearsList[i+j]}}</td>
                </tr>
                <tr class="empty-row">
                  <td>.</td>
                </tr>
                <!-- <tr>
                  <td># </td>
                </tr> -->
              </tbody>
          </table>
          </div>
        </div>
    </div>
</div>
